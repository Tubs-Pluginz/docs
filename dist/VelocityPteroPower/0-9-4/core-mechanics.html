<!DOCTYPE html>
<html lang="en-US" dir="ltr">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>VPP | Tub Pluginz Docs</title>
    <meta name="description" content="Documentation for My Minecraft Plugins">
    <meta name="generator" content="VitePress v1.6.3">
    <link rel="preload stylesheet" href="/assets/style.vcKVV8Oq.css" as="style">
    <link rel="preload stylesheet" href="/vp-icons.css" as="style">
    
    <script type="module" src="/assets/app.BRCd1qeb.js"></script>
    <link rel="preload" href="/assets/inter-roman-latin.Di8DUHzh.woff2" as="font" type="font/woff2" crossorigin="">
    <link rel="modulepreload" href="/assets/chunks/theme.k11Txjv0.js">
    <link rel="modulepreload" href="/assets/chunks/framework.BDwTZuFy.js">
    <link rel="modulepreload" href="/assets/VelocityPteroPower_0-9-4_core-mechanics.md.YsSa-DG6.lean.js">
    <link rel="stylesheet" href="/.vitepress/theme/custom.css">
    <script id="check-dark-mode">(()=>{const e=localStorage.getItem("vitepress-theme-appearance")||"auto",a=window.matchMedia("(prefers-color-scheme: dark)").matches;(!e||e==="auto"?a:e==="dark")&&document.documentElement.classList.add("dark")})();</script>
    <script id="check-mac-os">document.documentElement.classList.toggle("mac",/Mac|iPhone|iPod|iPad/i.test(navigator.platform));</script>
  </head>
  <body>
    <div id="app"><div class="Layout" data-v-ea45cf54 data-v-5d98c3a5><!--[--><!--]--><!--[--><span tabindex="-1" data-v-0b0ada53></span><a href="#VPContent" class="VPSkipLink visually-hidden" data-v-0b0ada53>Skip to content</a><!--]--><!----><header class="VPNav" data-v-5d98c3a5 data-v-ae24b3ad><div class="VPNavBar" data-v-ae24b3ad data-v-6aa21345><div class="wrapper" data-v-6aa21345><div class="container" data-v-6aa21345><div class="title" data-v-6aa21345><div class="VPNavBarTitle has-sidebar" data-v-6aa21345 data-v-1168a8e4><a class="title" href="/" data-v-1168a8e4><!--[--><!--]--><!--[--><img class="VPImage logo" src="/logo.png" alt data-v-8426fc1a><!--]--><span data-v-1168a8e4>Tub Pluginz Docs</span><!--[--><!--]--></a></div></div><div class="content" data-v-6aa21345><div class="content-body" data-v-6aa21345><!--[--><!--]--><div class="VPNavBarSearch search" data-v-6aa21345><!--[--><!----><div id="local-search"><button type="button" class="DocSearch DocSearch-Button" aria-label="Search"><span class="DocSearch-Button-Container"><span class="vp-icon DocSearch-Search-Icon"></span><span class="DocSearch-Button-Placeholder">Search</span></span><span class="DocSearch-Button-Keys"><kbd class="DocSearch-Button-Key"></kbd><kbd class="DocSearch-Button-Key">K</kbd></span></button></div><!--]--></div><nav aria-labelledby="main-nav-aria-label" class="VPNavBarMenu menu" data-v-6aa21345 data-v-dc692963><span id="main-nav-aria-label" class="visually-hidden" data-v-dc692963> Main Navigation </span><!--[--><!--[--><a class="VPLink link VPNavBarMenuLink" href="/" tabindex="0" data-v-dc692963 data-v-e56f3d57><!--[--><span data-v-e56f3d57>Home</span><!--]--></a><!--]--><!--[--><a class="VPLink link VPNavBarMenuLink" href="/archive.html" tabindex="0" data-v-dc692963 data-v-e56f3d57><!--[--><span data-v-e56f3d57>Docs Archive</span><!--]--></a><!--]--><!--[--><a class="VPLink link VPNavBarMenuLink" href="/VelocityPteroPower/latest/" tabindex="0" data-v-dc692963 data-v-e56f3d57><!--[--><span data-v-e56f3d57>VelocityPteroPower</span><!--]--></a><!--]--><!--]--></nav><!----><div class="VPNavBarAppearance appearance" data-v-6aa21345 data-v-6c893767><button class="VPSwitch VPSwitchAppearance" type="button" role="switch" title aria-checked="false" data-v-6c893767 data-v-5337faa4 data-v-1d5665e3><span class="check" data-v-1d5665e3><span class="icon" data-v-1d5665e3><!--[--><span class="vpi-sun sun" data-v-5337faa4></span><span class="vpi-moon moon" data-v-5337faa4></span><!--]--></span></span></button></div><div class="VPSocialLinks VPNavBarSocialLinks social-links" data-v-6aa21345 data-v-0394ad82 data-v-7bc22406><!--[--><a class="VPSocialLink no-icon" href="https://github.com/TubYoub/" aria-label="github" target="_blank" rel="noopener" data-v-7bc22406 data-v-bd121fe5><span class="vpi-social-github"></span></a><a class="VPSocialLink no-icon" href="https://discord.pluginz.dev" aria-label="discord" target="_blank" rel="noopener" data-v-7bc22406 data-v-bd121fe5><span class="vpi-social-discord"></span></a><!--]--></div><div class="VPFlyout VPNavBarExtra extra" data-v-6aa21345 data-v-bb2aa2f0 data-v-cf11d7a2><button type="button" class="button" aria-haspopup="true" aria-expanded="false" aria-label="extra navigation" data-v-cf11d7a2><span class="vpi-more-horizontal icon" data-v-cf11d7a2></span></button><div class="menu" data-v-cf11d7a2><div class="VPMenu" data-v-cf11d7a2 data-v-b98bc113><!----><!--[--><!--[--><!----><div class="group" data-v-bb2aa2f0><div class="item appearance" data-v-bb2aa2f0><p class="label" data-v-bb2aa2f0>Appearance</p><div class="appearance-action" data-v-bb2aa2f0><button class="VPSwitch VPSwitchAppearance" type="button" role="switch" title aria-checked="false" data-v-bb2aa2f0 data-v-5337faa4 data-v-1d5665e3><span class="check" data-v-1d5665e3><span class="icon" data-v-1d5665e3><!--[--><span class="vpi-sun sun" data-v-5337faa4></span><span class="vpi-moon moon" data-v-5337faa4></span><!--]--></span></span></button></div></div></div><div class="group" data-v-bb2aa2f0><div class="item social-links" data-v-bb2aa2f0><div class="VPSocialLinks social-links-list" data-v-bb2aa2f0 data-v-7bc22406><!--[--><a class="VPSocialLink no-icon" href="https://github.com/TubYoub/" aria-label="github" target="_blank" rel="noopener" data-v-7bc22406 data-v-bd121fe5><span class="vpi-social-github"></span></a><a class="VPSocialLink no-icon" href="https://discord.pluginz.dev" aria-label="discord" target="_blank" rel="noopener" data-v-7bc22406 data-v-bd121fe5><span class="vpi-social-discord"></span></a><!--]--></div></div></div><!--]--><!--]--></div></div></div><!--[--><!--]--><button type="button" class="VPNavBarHamburger hamburger" aria-label="mobile navigation" aria-expanded="false" aria-controls="VPNavScreen" data-v-6aa21345 data-v-e5dd9c1c><span class="container" data-v-e5dd9c1c><span class="top" data-v-e5dd9c1c></span><span class="middle" data-v-e5dd9c1c></span><span class="bottom" data-v-e5dd9c1c></span></span></button></div></div></div></div><div class="divider" data-v-6aa21345><div class="divider-line" data-v-6aa21345></div></div></div><!----></header><div class="VPLocalNav has-sidebar empty" data-v-5d98c3a5 data-v-a6f0e41e><div class="container" data-v-a6f0e41e><button class="menu" aria-expanded="false" aria-controls="VPSidebarNav" data-v-a6f0e41e><span class="vpi-align-left menu-icon" data-v-a6f0e41e></span><span class="menu-text" data-v-a6f0e41e>Menu</span></button><div class="VPLocalNavOutlineDropdown" style="--vp-vh:0px;" data-v-a6f0e41e data-v-8a42e2b4><button data-v-8a42e2b4>Return to top</button><!----></div></div></div><aside class="VPSidebar" data-v-5d98c3a5 data-v-319d5ca6><div class="curtain" data-v-319d5ca6></div><nav class="nav" id="VPSidebarNav" aria-labelledby="sidebar-aria-label" tabindex="-1" data-v-319d5ca6><span class="visually-hidden" id="sidebar-aria-label" data-v-319d5ca6> Sidebar Navigation </span><!--[--><!--]--><!--[--><div class="no-transition group" data-v-c40bc020><section class="VPSidebarItem level-0 has-active" data-v-c40bc020 data-v-b3fd67f8><div class="item" role="button" tabindex="0" data-v-b3fd67f8><div class="indicator" data-v-b3fd67f8></div><h2 class="text" data-v-b3fd67f8>VelocityPteroPower v0.9.4 (Latest)</h2><!----></div><div class="items" data-v-b3fd67f8><!--[--><div class="VPSidebarItem level-1 is-link" data-v-b3fd67f8 data-v-b3fd67f8><div class="item" data-v-b3fd67f8><div class="indicator" data-v-b3fd67f8></div><a class="VPLink link link" href="/VelocityPteroPower/0-9-4/" data-v-b3fd67f8><!--[--><p class="text" data-v-b3fd67f8>Introduction</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-b3fd67f8 data-v-b3fd67f8><div class="item" data-v-b3fd67f8><div class="indicator" data-v-b3fd67f8></div><a class="VPLink link link" href="/VelocityPteroPower/0-9-4/installation.html" data-v-b3fd67f8><!--[--><p class="text" data-v-b3fd67f8>Installation</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-b3fd67f8 data-v-b3fd67f8><div class="item" data-v-b3fd67f8><div class="indicator" data-v-b3fd67f8></div><a class="VPLink link link" href="/VelocityPteroPower/0-9-4/configuration.html" data-v-b3fd67f8><!--[--><p class="text" data-v-b3fd67f8>Configuration</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-b3fd67f8 data-v-b3fd67f8><div class="item" data-v-b3fd67f8><div class="indicator" data-v-b3fd67f8></div><a class="VPLink link link" href="/VelocityPteroPower/0-9-4/core-mechanics.html" data-v-b3fd67f8><!--[--><p class="text" data-v-b3fd67f8>Core Mechanics</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-b3fd67f8 data-v-b3fd67f8><div class="item" data-v-b3fd67f8><div class="indicator" data-v-b3fd67f8></div><a class="VPLink link link" href="/VelocityPteroPower/0-9-4/commands.html" data-v-b3fd67f8><!--[--><p class="text" data-v-b3fd67f8>Commands</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-b3fd67f8 data-v-b3fd67f8><div class="item" data-v-b3fd67f8><div class="indicator" data-v-b3fd67f8></div><a class="VPLink link link" href="/VelocityPteroPower/0-9-4/permissions.html" data-v-b3fd67f8><!--[--><p class="text" data-v-b3fd67f8>Permissions</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-b3fd67f8 data-v-b3fd67f8><div class="item" data-v-b3fd67f8><div class="indicator" data-v-b3fd67f8></div><a class="VPLink link link" href="/VelocityPteroPower/0-9-4/faq.html" data-v-b3fd67f8><!--[--><p class="text" data-v-b3fd67f8>FAQ</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-b3fd67f8 data-v-b3fd67f8><div class="item" data-v-b3fd67f8><div class="indicator" data-v-b3fd67f8></div><a class="VPLink link link" href="/VelocityPteroPower/0-9-4/troubleshooting.html" data-v-b3fd67f8><!--[--><p class="text" data-v-b3fd67f8>Troubleshooting</p><!--]--></a><!----></div><!----></div><!--]--></div></section></div><!--]--><!--[--><!--]--></nav></aside><div class="VPContent has-sidebar" id="VPContent" data-v-5d98c3a5 data-v-1428d186><div class="VPDoc has-sidebar has-aside" data-v-1428d186 data-v-39a288b8><!--[--><!--]--><div class="container" data-v-39a288b8><div class="aside" data-v-39a288b8><div class="aside-curtain" data-v-39a288b8></div><div class="aside-container" data-v-39a288b8><div class="aside-content" data-v-39a288b8><div class="VPDocAside" data-v-39a288b8 data-v-3f215769><!--[--><!--]--><!--[--><!--]--><nav aria-labelledby="doc-outline-aria-label" class="VPDocAsideOutline" data-v-3f215769 data-v-a5bbad30><div class="content" data-v-a5bbad30><div class="outline-marker" data-v-a5bbad30></div><div aria-level="2" class="outline-title" id="doc-outline-aria-label" role="heading" data-v-a5bbad30>On this page</div><ul class="VPDocOutlineItem root" data-v-a5bbad30 data-v-b933a997><!--[--><!--]--></ul></div></nav><!--[--><!--]--><div class="spacer" data-v-3f215769></div><!--[--><!--]--><!----><!--[--><!--]--><!--[--><!--]--></div></div></div></div><div class="content" data-v-39a288b8><div class="content-container" data-v-39a288b8><!--[--><!--]--><main class="main" data-v-39a288b8><div style="position:relative;" class="vp-doc _VelocityPteroPower_0-9-4_core-mechanics" data-v-39a288b8><div><h1 id="core-mechanics-explained-üß†" tabindex="-1">Core Mechanics Explained üß† <a class="header-anchor" href="#core-mechanics-explained-üß†" aria-label="Permalink to &quot;Core Mechanics Explained üß†&quot;">‚Äã</a></h1><p>Understanding how VelocityPteroPower (VPP) manages your servers can help you configure it optimally and troubleshoot any issues. This page breaks down the key operational logic.</p><h2 id="automatic-server-starting-üöÄ" tabindex="-1">Automatic Server Starting üöÄ <a class="header-anchor" href="#automatic-server-starting-üöÄ" aria-label="Permalink to &quot;Automatic Server Starting üöÄ&quot;">‚Äã</a></h2><p>When a player attempts to connect to a server managed by VPP, a sequence of checks and actions occurs:</p><ol><li><p><strong>Managed Server Identification:</strong> VPP first checks if the target server name (from the player&#39;s connection attempt) is defined within the <code>servers</code> section of its <code>config.yml</code>. If not, VPP does not manage this server, and the connection proceeds as Velocity normally would (or fails if the server isn&#39;t in <code>velocity.toml</code>).</p></li><li><p><strong>Whitelist Check (Conditional):</strong></p><ul><li>If the server&#39;s configuration in <code>config.yml</code> has <code>whitelist: true</code>: <ul><li>VPP consults its cached whitelist for that server.</li><li>If <code>whitelistAllowBypass: true</code> (global config) AND the player has the <code>ptero.bypass</code> permission, this check is skipped.</li><li>Otherwise, if the player is not on the cached whitelist, the connection attempt may be denied or the server start may be prevented.</li></ul></li></ul><div class="warning custom-block"><p class="custom-block-title">MC Server Soft Limitation</p><p>The whitelist fetching and enforcement feature is <strong>not supported</strong> if your panel is MC Server Soft. Whitelist checks will be skipped for such panels.</p></div></li><li><p><strong>Player Start Cooldown:</strong> VPP checks if the player is currently under a cooldown period (defined by <code>playerStartCooldown</code> in <code>config.yml</code>) from recently initiating a server start. If on cooldown, the current start attempt might be denied.</p></li><li><p><strong>Server Status Query:</strong> VPP determines if the target server is already online. This is done using the method specified by <code>serverStatusCheckMethod</code> in <code>config.yml</code>:</p><ul><li><strong><code>VELOCITY_PING</code></strong>: Sends a standard Minecraft ping.</li><li><strong><code>PANEL_API</code></strong>: Queries the panel API for the server&#39;s state. If the server is found to be online, the player&#39;s connection proceeds normally, and VPP ensures any internal &quot;starting&quot; flags for that server are cleared.</li></ul></li><li><p><strong>Offline Server - Startup Sequence:</strong> If the server is determined to be offline:</p><ul><li><strong>Starting Flag:</strong> VPP checks if the server is already internally marked as &quot;starting&quot; (e.g., by another player&#39;s recent attempt). If so, the current player might be informed and their connection denied or queued for limbo.</li><li><strong>Rate Limit Check:</strong> Before sending any API command, VPP checks if it can make a request without exceeding panel API rate limits. If rate-limited, the start is aborted, and the player is notified.</li><li><strong>API Start Signal:</strong> If all checks pass, VPP sends a &quot;start&quot; signal for the server&#39;s ID to the panel API.</li><li><strong>Internal State Update:</strong> The server is marked internally as &quot;starting,&quot; and the initiating player&#39;s start cooldown is activated.</li><li><strong>Initial Idle Check Scheduled:</strong> If <code>idleStartShutdownTime</code> is configured (&gt;= 0), a task is scheduled to shut down this server if no one joins it within that time.</li></ul></li><li><p><strong>Player Handling During Startup:</strong></p><ul><li><strong>Limbo Redirection:</strong> If a valid <code>limboServer</code> is configured and accessible, the player is sent to the limbo server with a notification.</li><li><strong>Disconnect/Message:</strong> If no limbo server is available (or if it&#39;s the player&#39;s initial proxy connection), the player might be disconnected with a message that the server is starting, or if they were on a previous server, they might just receive a message and the connection attempt is denied for now.</li></ul></li><li><p><strong>Delayed Connection to Target Server:</strong></p><ul><li>VPP schedules a recurring task (initial delay: <code>startupInitialCheckDelay</code>, subsequent checks based on per-server <code>startupJoinDelay</code>) to monitor the target server&#39;s status.</li><li>Once the server is confirmed online (via <code>serverStatusCheckMethod</code>), VPP waits for the additional <code>startupJoinDelay</code> (per-server config) to allow backend plugins to load.</li><li>After this full delay, if the player is still active (e.g., on limbo or attempting to reconnect), VPP attempts to connect them to the now-started target server.</li><li>If the server doesn&#39;t start within a reasonable number of attempts, the connection task is cancelled, and the player is informed.</li></ul></li></ol><hr><h2 id="automatic-server-shutdown-üí§" tabindex="-1">Automatic Server Shutdown üí§ <a class="header-anchor" href="#automatic-server-shutdown-üí§" aria-label="Permalink to &quot;Automatic Server Shutdown üí§&quot;">‚Äã</a></h2><p>VPP employs several mechanisms to automatically shut down servers, conserving resources:</p><ol><li><p><strong>Timeout-Based Shutdown (Per-Server <code>timeout</code>):</strong></p><ul><li><strong>Trigger:</strong> When the last player disconnects from a VPP-managed server, or when a server becomes empty after a player switches away from it.</li><li><strong>Action:</strong> VPP checks the <code>timeout</code> value for that specific server in <code>config.yml</code>. <ul><li>If <code>timeout: -1</code>, automatic shutdown for this server is disabled.</li><li>If <code>timeout: 0</code>, VPP attempts to send a &quot;stop&quot; signal immediately.</li><li>If <code>timeout &gt; 0</code> (seconds), a shutdown task is scheduled. If a player rejoins before the task executes, the shutdown is cancelled. Otherwise, a &quot;stop&quot; signal is sent.</li></ul></li></ul></li><li><p><strong>Idle Start Shutdown (Global <code>idleStartShutdownTime</code>):</strong></p><ul><li><strong>Trigger:</strong> A server was started by VPP, but no player successfully connected to it within the <code>idleStartShutdownTime</code> (global config).</li><li><strong>Action:</strong> VPP sends a &quot;stop&quot; signal to the panel API for that server.</li></ul></li><li><p><strong>Shutdown Confirmation &amp; Retries:</strong></p><ul><li>After VPP sends a &quot;stop&quot; signal, it doesn&#39;t just assume the server stopped.</li><li>A follow-up task is scheduled (after <code>shutdownRetryDelay</code> seconds) to check the server&#39;s status via the panel API.</li><li><strong>If Still Online &amp; Empty:</strong> If the server is still reported as online by the panel and is confirmed empty by VPP, it will retry sending the &quot;stop&quot; signal. This retry process occurs up to <code>shutdownRetries</code> times.</li><li><strong>If Offline or Players Joined:</strong> If the server is offline, the process completes. If players have joined, the shutdown attempt is cancelled.</li><li>This retry mechanism helps handle cases where the panel might be slow to process the stop command or if the initial signal failed.</li></ul></li></ol><hr><h2 id="limbo-server-functionality-üèùÔ∏è" tabindex="-1">Limbo Server Functionality üèùÔ∏è <a class="header-anchor" href="#limbo-server-functionality-üèùÔ∏è" aria-label="Permalink to &quot;Limbo Server Functionality üèùÔ∏è&quot;">‚Äã</a></h2><p>The <code>limboServer</code> feature enhances player experience while waiting for a target server to start.</p><div class="tip custom-block"><p class="custom-block-title">Purpose of Limbo</p><p>Instead of disconnecting players or leaving them on a &quot;Connecting...&quot; screen, they can be temporarily moved to a lightweight, always-on (or very quickly starting) &quot;limbo&quot; server.</p></div><ul><li><p><strong>How it Works:</strong></p><ol><li>A player attempts to connect to an offline VPP-managed server (<code>Server-A</code>).</li><li>VPP initiates the startup of <code>Server-A</code>.</li><li>If <code>limboServer</code> (e.g., <code>Lobby-Lite</code>) is configured in <code>config.yml</code> and is a valid, accessible server in <code>velocity.toml</code>, VPP redirects the player to <code>Lobby-Lite</code>.</li><li>The player receives a message indicating they are being sent to limbo while <code>Server-A</code> starts.</li><li>VPP monitors <code>Server-A</code>&#39;s startup.</li><li>Once <code>Server-A</code> is online and its <code>startupJoinDelay</code> has passed, VPP attempts to automatically connect the player from <code>Lobby-Lite</code> to <code>Server-A</code>.</li></ol></li><li><p><strong>Configuration is Key:</strong></p><ul><li>The server name specified in <code>limboServer</code> <strong>must</strong> exist in your <code>velocity.toml</code>.</li><li>If the limbo server itself is managed by VPP, ensure its <code>timeout</code> setting is appropriate (e.g., <code>-1</code> to prevent auto-shutdown, or a very short <code>timeout</code> if it&#39;s designed to be ephemeral but also quick to start via VPP).</li><li>If <code>limboServer</code> is set to <code>&quot;changeMe&quot;</code> or an invalid server name, this feature is disabled.</li></ul></li></ul><hr><h2 id="api-rate-limiting-üö¶" tabindex="-1">API Rate Limiting üö¶ <a class="header-anchor" href="#api-rate-limiting-üö¶" aria-label="Permalink to &quot;API Rate Limiting üö¶&quot;">‚Äã</a></h2><p>Server control panels like Pterodactyl and Pelican implement API rate limits to prevent abuse and ensure stability. VPP is designed to work within these limits.</p><ul><li><strong>Detection:</strong> VPP attempts to read rate limit information from the HTTP headers returned by panel API responses (e.g., <code>X-RateLimit-Limit</code>, <code>X-RateLimit-Remaining</code>).</li><li><strong>Behavior:</strong> If VPP anticipates that an API request would exceed the remaining quota, it will temporarily pause or deny actions that require an API call (e.g., starting a server, checking status via <code>PANEL_API</code>, stopping a server). Players or console may receive a message indicating the delay.</li><li><strong>Monitoring:</strong> You can set <code>printRateLimit: true</code> in <code>config.yml</code> to have VPP log the rate limit status it receives from the panel. This is very helpful for diagnosing if rate limiting is causing unexpected behavior.</li><li><strong><code>apiThreads</code>:</strong> This setting in <code>config.yml</code> controls the number of threads VPP can use for concurrent API operations. While increasing it might seem beneficial for many servers, it can also lead to hitting rate limits more quickly if not carefully managed. The default (<code>10</code>) is generally a good starting point.</li></ul><hr><h2 id="server-status-checking-methods-serverstatuscheckmethod" tabindex="-1">Server Status Checking Methods (<code>serverStatusCheckMethod</code>) <a class="header-anchor" href="#server-status-checking-methods-serverstatuscheckmethod" aria-label="Permalink to &quot;Server Status Checking Methods (`serverStatusCheckMethod`)&quot;">‚Äã</a></h2><p>VPP offers two distinct methods to determine if a managed Minecraft server is online and ready for connections:</p><div class="vp-code-group vp-adaptive-theme"><div class="tabs"><input type="radio" name="group-jewTd" id="tab-kOOhCfA" checked><label data-title="VELOCITY_PING" for="tab-kOOhCfA">VELOCITY_PING</label><input type="radio" name="group-jewTd" id="tab-T8DC0S5"><label data-title="PANEL_API" for="tab-T8DC0S5">PANEL_API</label></div><div class="blocks"><div class="language-yaml vp-adaptive-theme active"><button title="Copy Code" class="copy"></button><span class="lang">yaml</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># Uses Velocity&#39;s built-in server pinging.</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># Pros:</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">#   - No panel API calls, so no impact on rate limits.</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">#   - Generally faster than an API call.</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># Cons:</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">#   - Server must be correctly defined in velocity.toml and network-reachable.</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">#   - Might report &quot;online&quot; before backend plugins fully load.</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">#   - Some minimal servers (e.g., basic limbo) might not respond to pings.</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># Relies on `pingTimeout` setting.</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">serverStatusCheckMethod</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;VELOCITY_PING&quot;</span></span></code></pre></div><div class="language-yaml vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">yaml</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># Queries the Pterodactyl/Pelican panel API for server state.</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># Pros:</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">#   - More authoritative status directly from the panel (e.g., &quot;running&quot;).</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># Cons:</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">#   - Consumes an API request for each check, impacting rate limits.</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">#   - Can be slightly slower due to network latency to the panel.</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">serverStatusCheckMethod</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;PANEL_API&quot;</span></span></code></pre></div></div></div><p>Choose the method that best balances accuracy, API usage, and your network setup. For most, <code>VELOCITY_PING</code> is efficient, but <code>PANEL_API</code> can be more reliable for determining true process state if pings are problematic.</p><hr><h2 id="whitelist-feature-integration-‚úÖ" tabindex="-1">Whitelist Feature Integration ‚úÖ <a class="header-anchor" href="#whitelist-feature-integration-‚úÖ" aria-label="Permalink to &quot;Whitelist Feature Integration ‚úÖ&quot;">‚Äã</a></h2><p>VPP can integrate with the <code>whitelist.json</code> file of your backend Minecraft servers (managed via the panel).</p><ul><li><strong>Enabling:</strong> For each server in the <code>servers:</code> section of <code>config.yml</code>, set <code>whitelist: true</code>.</li><li><strong>Fetching Mechanism:</strong><ul><li>VPP attempts to download the content of <code>whitelist.json</code> from the server&#39;s file directory using the panel API.</li><li>This occurs: <ul><li>On plugin startup/reload.</li><li>Periodically, based on <code>whitelistCheckInterval</code> (if &gt; 0).</li><li>Manually, via the <code>/ptero whitelistReload</code> command.</li></ul></li></ul></li><li><strong>Enforcement Logic (when a player tries to connect/start a whitelisted server):</strong><ol><li>If <code>whitelistAllowBypass: true</code> (global config) AND the player has the <code>ptero.bypass</code> permission, VPP&#39;s whitelist check is skipped.</li><li>Otherwise, VPP checks if the player&#39;s username (case-insensitive) is present in its cached copy of that server&#39;s whitelist.</li><li>If not found, the connection/start attempt may be denied by VPP.</li></ol></li></ul><div class="danger custom-block"><p class="custom-block-title">MC Server Soft Incompatibility</p><p>The panel API functionality required for VPP to fetch <code>whitelist.json</code> is <strong>not available on MC Server Soft panels.</strong> If VPP detects this panel type, the whitelist feature will be disabled, and warnings may be logged.</p></div><div class="tip custom-block"><p class="custom-block-title">Backend Server Still Enforces</p><p>VPP&#39;s whitelist check is a <em>preliminary</em> check. The backend Minecraft server itself will <strong>always</strong> enforce its own <code>whitelist.json</code> file. If a player somehow bypasses VPP&#39;s check but isn&#39;t on the actual server whitelist, they will still be denied entry by the Minecraft server.</p></div></div></div></main><footer class="VPDocFooter" data-v-39a288b8 data-v-e257564d><!--[--><!--]--><!----><nav class="prev-next" aria-labelledby="doc-footer-aria-label" data-v-e257564d><span class="visually-hidden" id="doc-footer-aria-label" data-v-e257564d>Pager</span><div class="pager" data-v-e257564d><a class="VPLink link pager-link prev" href="/VelocityPteroPower/0-9-4/configuration.html" data-v-e257564d><!--[--><span class="desc" data-v-e257564d>Previous page</span><span class="title" data-v-e257564d>Configuration</span><!--]--></a></div><div class="pager" data-v-e257564d><a class="VPLink link pager-link next" href="/VelocityPteroPower/0-9-4/commands.html" data-v-e257564d><!--[--><span class="desc" data-v-e257564d>Next page</span><span class="title" data-v-e257564d>Commands</span><!--]--></a></div></nav></footer><!--[--><!--]--></div></div></div><!--[--><!--]--></div></div><footer class="VPFooter has-sidebar" data-v-5d98c3a5 data-v-e315a0ad><div class="container" data-v-e315a0ad><!----><p class="copyright" data-v-e315a0ad>Copyright ¬© 2025 TubYoub</p></div></footer><!--[--><!--]--></div></div>
    <script>window.__VP_HASH_MAP__=JSON.parse("{\"archive.md\":\"DyLdVD6Y\",\"index.md\":\"Djm1gIou\",\"velocitypteropower_0-9-4_commands.md\":\"BjtmlF9P\",\"velocitypteropower_0-9-4_configuration.md\":\"BdCxtPjo\",\"velocitypteropower_0-9-4_core-mechanics.md\":\"YsSa-DG6\",\"velocitypteropower_0-9-4_faq.md\":\"D_FxPx28\",\"velocitypteropower_0-9-4_index.md\":\"BX89LWx-\",\"velocitypteropower_0-9-4_installation.md\":\"BHa_wvBp\",\"velocitypteropower_0-9-4_permissions.md\":\"BKsVQ5kl\",\"velocitypteropower_0-9-4_troubleshooting.md\":\"DoNX47bX\",\"velocitypteropower_latest_commands.md\":\"PE8VGGzZ\",\"velocitypteropower_latest_configuration.md\":\"4SAf_8d9\",\"velocitypteropower_latest_core-mechanics.md\":\"B7CY7q0t\",\"velocitypteropower_latest_faq.md\":\"B1orAHKf\",\"velocitypteropower_latest_index.md\":\"BdN7C_0V\",\"velocitypteropower_latest_installation.md\":\"_joAlQVm\",\"velocitypteropower_latest_permissions.md\":\"wiSHIEGb\",\"velocitypteropower_latest_troubleshooting.md\":\"BVdXSw3y\"}");window.__VP_SITE_DATA__=JSON.parse("{\"lang\":\"en-US\",\"dir\":\"ltr\",\"title\":\"Tub Pluginz Docs\",\"description\":\"Documentation for My Minecraft Plugins\",\"base\":\"/\",\"head\":[],\"router\":{\"prefetchLinks\":true},\"appearance\":true,\"themeConfig\":{\"logo\":\"/logo.png\",\"nav\":[{\"text\":\"Home\",\"link\":\"/\"},{\"text\":\"Docs Archive\",\"link\":\"/archive\"},{\"text\":\"VelocityPteroPower\",\"link\":\"/VelocityPteroPower/latest/\"}],\"sidebar\":{\"/VelocityPteroPower/latest/\":[{\"text\":\"VelocityPteroPower v0.9.4 (Latest)\",\"collapsible\":true,\"items\":[{\"text\":\"Introduction\",\"link\":\"/VelocityPteroPower/latest/\"},{\"text\":\"Installation\",\"link\":\"/VelocityPteroPower/latest/installation\"},{\"text\":\"Configuration\",\"link\":\"/VelocityPteroPower/latest/configuration\"},{\"text\":\"Core Mechanics\",\"link\":\"/VelocityPteroPower/latest/core-mechanics\"},{\"text\":\"Commands\",\"link\":\"/VelocityPteroPower/latest/commands\"},{\"text\":\"Permissions\",\"link\":\"/VelocityPteroPower/latest/permissions\"},{\"text\":\"FAQ\",\"link\":\"/VelocityPteroPower/latest/faq\"},{\"text\":\"Troubleshooting\",\"link\":\"/VelocityPteroPower/latest/troubleshooting\"}]}],\"/VelocityPteroPower/0-9-4/\":[{\"text\":\"VelocityPteroPower v0.9.4 (Latest)\",\"collapsible\":true,\"items\":[{\"text\":\"Introduction\",\"link\":\"/VelocityPteroPower/0-9-4/\"},{\"text\":\"Installation\",\"link\":\"/VelocityPteroPower/0-9-4/installation\"},{\"text\":\"Configuration\",\"link\":\"/VelocityPteroPower/0-9-4/configuration\"},{\"text\":\"Core Mechanics\",\"link\":\"/VelocityPteroPower/0-9-4/core-mechanics\"},{\"text\":\"Commands\",\"link\":\"/VelocityPteroPower/0-9-4/commands\"},{\"text\":\"Permissions\",\"link\":\"/VelocityPteroPower/0-9-4/permissions\"},{\"text\":\"FAQ\",\"link\":\"/VelocityPteroPower/0-9-4/faq\"},{\"text\":\"Troubleshooting\",\"link\":\"/VelocityPteroPower/0-9-4/troubleshooting\"}]}]},\"socialLinks\":[{\"icon\":\"github\",\"link\":\"https://github.com/TubYoub/\"},{\"icon\":\"discord\",\"link\":\"https://discord.pluginz.dev\"}],\"footer\":{\"copyright\":\"Copyright ¬© 2025 TubYoub\"},\"search\":{\"provider\":\"local\"}},\"locales\":{},\"scrollOffset\":134,\"cleanUrls\":false}");</script>
    
  </body>
</html>