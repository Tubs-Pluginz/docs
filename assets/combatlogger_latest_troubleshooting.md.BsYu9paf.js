import{_ as o,c as t,o as r,ag as i}from"./chunks/framework.BDwTZuFy.js";const h=JSON.parse('{"title":"Troubleshooting Guide üõ†Ô∏è","description":"","frontmatter":{},"headers":[],"relativePath":"combatlogger/latest/troubleshooting.md","filePath":"combatlogger/latest/troubleshooting.md"}'),s={name:"combatlogger/latest/troubleshooting.md"};function n(a,e,l,g,c,d){return r(),t("div",null,e[0]||(e[0]=[i('<h1 id="troubleshooting-guide-üõ†Ô∏è" tabindex="-1">Troubleshooting Guide üõ†Ô∏è <a class="header-anchor" href="#troubleshooting-guide-üõ†Ô∏è" aria-label="Permalink to &quot;Troubleshooting Guide üõ†Ô∏è&quot;">‚Äã</a></h1><p>If BT&#39;s CombatLogger isn&#39;t behaving as expected, these steps can help you identify and fix the issue.</p><h2 id="_1-initial-checks-‚úÖ" tabindex="-1">1. Initial Checks ‚úÖ <a class="header-anchor" href="#_1-initial-checks-‚úÖ" aria-label="Permalink to &quot;1. Initial Checks ‚úÖ&quot;">‚Äã</a></h2><ul><li><strong>Latest Plugin Version:</strong> Are you using the most recent version of BT&#39;s CombatLogger? Check <a href="https://modrinth.com/plugin/bts-combatlogger" target="_blank" rel="noreferrer">Modrinth</a> or GitHub Releases.</li><li><strong>Server Version:</strong> The plugin is built for API 1.13+ (compatible up to 1.20 as per README). Ensure your server version (Spigot, Paper, etc.) falls within this range.</li><li><strong>Java Version:</strong> The <code>pom.xml</code> indicates Java 8. Ensure your server is running on Java 8 or a compatible newer version.</li><li><strong>Console Logs:</strong> This is your primary diagnostic tool. Check your server&#39;s console (<code>logs/latest.log</code>) for any errors or warnings prefixed with <code>[BTCL]</code> or <code>CombatLogger</code> during startup or when the issue occurs.</li><li><strong><code>config.yml</code> Review:</strong> Carefully check <code>plugins/CombatLogger/config.yml</code> for correct values and YAML syntax.</li><li><strong><code>allies.yml</code> (If ally issues):</strong> Check <code>plugins/CombatLogger/allies.yml</code> for correct formatting (pairs of UUIDs per line).</li></ul><h2 id="_2-common-issues-solutions" tabindex="-1">2. Common Issues &amp; Solutions <a class="header-anchor" href="#_2-common-issues-solutions" aria-label="Permalink to &quot;2. Common Issues &amp; Solutions&quot;">‚Äã</a></h2><h3 id="a-players-not-being-tagged-in-combat" tabindex="-1">A. Players Not Being Tagged in Combat <a class="header-anchor" href="#a-players-not-being-tagged-in-combat" aria-label="Permalink to &quot;A. Players Not Being Tagged in Combat&quot;">‚Äã</a></h3><details class="details custom-block"><summary>Symptoms &amp; Checklist</summary><p><strong>Symptoms:</strong></p><ul><li>Players hit each other, but no action bar message appears, and they aren&#39;t killed if they log out.</li><li><code>/cl list</code> shows no one in combat.</li></ul><p><strong>Checklist:</strong></p><ol><li><strong>Plugin Enabled:</strong> Is BT&#39;s CombatLogger listed and enabled in <code>/plugins</code>?</li><li><strong>Listener Registration:</strong> Check startup logs for any errors related to registering event listeners (e.g., <code>HitListener</code>).</li><li><strong>Ally Status:</strong> Are the players involved perhaps allies? Use <code>/cl ally</code> commands to check or try with players you know are not allied. Remember, hitting an ally does <em>not</em> trigger combat.</li><li><strong>Damage Type:</strong> Is the damage definitely Player-vs-Player? Environmental damage (mobs, fall, lava) does not tag.</li><li><strong>Plugin Conflict (Event Handling):</strong><ul><li>Do you have other plugins that manage combat, PvP, or damage events with high priority? Another plugin might be cancelling the damage event before BT&#39;s CombatLogger can process it, or modifying it in a way that prevents tagging.</li><li>Try temporarily removing other combat-related or anti-cheat plugins to see if tagging starts working. If it does, you&#39;ll need to investigate which plugin is conflicting and see if its event priorities or configurations can be adjusted.</li></ul></li><li><strong>World/Region Protection:</strong> Some protection plugins (WorldGuard, etc.) might have flags that prevent PvP or certain types of entity interaction in specific regions. Ensure PvP is allowed where you are testing.</li></ol></details><h3 id="b-players-not-punished-for-combat-logging" tabindex="-1">B. Players Not Punished for Combat Logging <a class="header-anchor" href="#b-players-not-punished-for-combat-logging" aria-label="Permalink to &quot;B. Players Not Punished for Combat Logging&quot;">‚Äã</a></h3><details class="details custom-block"><summary>Symptoms &amp; Checklist</summary><p><strong>Symptoms:</strong></p><ul><li>A player is tagged in combat (action bar shows timer), they log out, but they are not killed and don&#39;t receive the &quot;killed for combat logging&quot; message on rejoin.</li></ul><p><strong>Checklist:</strong></p><ol><li><strong>Combat Tag Active at Logout:</strong> Was the player <em>definitely</em> still tagged when they logged out? The action bar timer must have been active.</li><li><strong><code>QuitListener</code> Functioning:</strong> Check startup logs for errors registering <code>QuitListener</code>.</li><li><strong>Server Shutdown vs. Player Quit:</strong> If the <em>entire server</em> shuts down or crashes while a player is combat-tagged, the plugin might not have a chance to process their &quot;quit&quot; and apply the penalty. The penalty is typically applied when the <code>PlayerQuitEvent</code> is fired.</li><li><strong>Other Plugins Modifying Quit/Death:</strong> Could another plugin be interfering with the death process or player data on quit/join in a way that negates the penalty?</li><li><strong>Console Errors on Quit/Join:</strong> Check console logs when the combat-tagged player quits and when they rejoin for any errors from BT&#39;s CombatLogger.</li></ol></details><h3 id="c-ally-system-not-working-correctly" tabindex="-1">C. Ally System Not Working Correctly <a class="header-anchor" href="#c-ally-system-not-working-correctly" aria-label="Permalink to &quot;C. Ally System Not Working Correctly&quot;">‚Äã</a></h3><details class="details custom-block"><summary>Symptoms &amp; Checklist</summary><p><strong>Symptoms:</strong></p><ul><li>Ally requests are not received or cannot be accepted/denied.</li><li>Allied players are still tagging each other in combat.</li><li><code>/cl ally</code> commands give unexpected errors.</li></ul><p><strong>Checklist:</strong></p><ol><li><strong>Permissions:</strong> Does the player using <code>/cl ally</code> have the <code>combatlogger.ally</code> permission? (Default is <code>true</code> for all players).</li><li><strong>Correct Player Names:</strong> Are player names being typed correctly (case-sensitive usually matters for Bukkit&#39;s <code>getPlayerExact</code>)? Is the target player online?</li><li><strong><code>allies.yml</code>:</strong><ul><li>Check <code>plugins/CombatLogger/allies.yml</code> for its existence and proper formatting (each line should be <code>UUID1,UUID2</code>).</li><li>File permissions: Can the server process write to this file?</li></ul></li><li><strong>Console Errors:</strong> Look for errors related to <code>AllyManager</code> or file I/O when ally commands are used or when the plugin loads/reloads.</li><li><strong>Request Timeout:</strong> Ally requests expire after 30 seconds. Ensure the target player is accepting within this window.</li></ol></details><h3 id="d-cl-settime-not-working-or-value-not-persisting" tabindex="-1">D. <code>/cl settime</code> Not Working or Value Not Persisting <a class="header-anchor" href="#d-cl-settime-not-working-or-value-not-persisting" aria-label="Permalink to &quot;D. `/cl settime` Not Working or Value Not Persisting&quot;">‚Äã</a></h3><details class="details custom-block"><summary>Symptoms &amp; Checklist</summary><p><strong>Symptoms:</strong></p><ul><li><code>/cl settime &lt;seconds&gt;</code> reports success, but the combat timer duration doesn&#39;t actually change for new combat instances, or it reverts after a reload/restart.</li></ul><p><strong>Checklist:</strong></p><ol><li><strong>Permissions:</strong> Does the user have <code>combatlogger.settimer</code>?</li><li><strong>Saving to <code>config.yml</code>:</strong><ul><li>The <code>ConfigManager.setCombatTimeout()</code> method attempts to save the new value to <code>config.yml</code>. Check if <code>plugins/CombatLogger/config.yml</code> is actually being updated after using the command.</li><li>Are there any file permission issues preventing the plugin from writing to <code>config.yml</code>?</li><li>Check console for errors related to &quot;Error while saving the configuration&quot; when using the command or on plugin disable.</li></ul></li><li><strong>Reload vs. Restart:</strong> After setting the time, new combat instances should use the new time. If it reverts after a full server restart, it means the value didn&#39;t save to <code>config.yml</code> correctly.</li></ol></details><h3 id="e-plugin-not-loading-errors-on-startup" tabindex="-1">E. Plugin Not Loading / Errors on Startup <a class="header-anchor" href="#e-plugin-not-loading-errors-on-startup" aria-label="Permalink to &quot;E. Plugin Not Loading / Errors on Startup&quot;">‚Äã</a></h3><details class="details custom-block"><summary>Symptoms &amp; Checklist</summary><p><strong>Symptoms:</strong></p><ul><li>BT&#39;s CombatLogger doesn&#39;t appear in <code>/plugins</code>.</li><li>Errors related to <code>dev.pluginz.combatlogger</code> in the console during server startup.</li></ul><p><strong>Checklist:</strong></p><ol><li><strong>Java Version:</strong> The <code>pom.xml</code> specifies Java 1.8. Ensure your server is running Java 8 or a compatible newer version.</li><li><strong>Spigot/Paper API Version:</strong> The <code>plugin.yml</code> states <code>api-version: 1.13</code>. Ensure your server software (Spigot, Paper, etc.) is 1.13 or newer.</li><li><strong>Corrupted JAR:</strong> The downloaded plugin JAR might be corrupted. Try re-downloading it.</li><li><strong>Dependencies:</strong> BT&#39;s CombatLogger shades BoostedYAML and Jackson. While this minimizes conflicts, ensure no other plugin is causing extreme classpath issues (very rare).</li><li><strong><code>config.yml</code> Syntax (Severe):</strong> A completely broken <code>config.yml</code> could prevent loading. If suspected, back it up, delete it, and let the plugin regenerate a default one.</li></ol></details><h2 id="_4-providing-information-for-support-üÜò" tabindex="-1">4. Providing Information for Support üÜò <a class="header-anchor" href="#_4-providing-information-for-support-üÜò" aria-label="Permalink to &quot;4. Providing Information for Support üÜò&quot;">‚Äã</a></h2><p>If you&#39;re unable to resolve the issue with these steps, please seek help on our <a href="https://discord.pluginz.dev" target="_blank" rel="noreferrer">Community Discord Server</a>.</p><p>To help us assist you, please provide:</p><ul><li><strong>BT&#39;s CombatLogger Version:</strong> (e.g., <code>1.1-beta</code>)</li><li><strong>Server Software &amp; Version:</strong> (e.g., Paper 1.16.5, Spigot 1.19.4)</li><li><strong>Java Version:</strong></li><li><strong>Your <code>config.yml</code> for BT&#39;s CombatLogger.</strong></li><li><strong>(If relevant) Your <code>allies.yml</code> file.</strong></li><li><strong>Detailed Console Logs:</strong> Copy relevant sections from your server console (e.g., <code>logs/latest.log</code>) from startup through when the issue occurs. Use a service like <a href="https://pastebin.com" target="_blank" rel="noreferrer">Pastebin</a>, <a href="https://hastebin.com/" target="_blank" rel="noreferrer">Hastebin</a>, or <a href="https://mclo.gs/" target="_blank" rel="noreferrer">mclo.gs</a>. <strong>Do not paste long logs directly into Discord.</strong></li><li><strong>A Clear Description of the Issue:</strong> What did you expect? What happened? Any specific error messages?</li><li><strong>Steps to Reproduce:</strong> If you can reliably trigger the issue, list the steps.</li></ul><p>The more information you provide, the better we can help!</p>',20)]))}const m=o(s,[["render",n]]);export{h as __pageData,m as default};
